{% schema %}
{
  "name": "Custom Gallery",
  "settings": [],
  "presets": [
    {
      "name": "Custom Gallery",
      "category": "Image"
    }
  ]
}
{% endschema %}
{% comment %} Galeria Customizada {% endcomment %}
<div class="custom-gallery">
  <button class="gallery-btn prev">❮</button>
  <div class="gallery-wrapper">
    {% for i in (1..10) %}
      <div class="gallery-item {% if forloop.index == 5 %}central{% endif %}">
        <img src="{{ 'imagem-' | append: forloop.index | append: '.jpg' | asset_url }}" alt="Imagem {{ forloop.index }}">
      </div>
    {% endfor %}
  </div>
  <button class="gallery-btn next">❯</button>
</div>

<link rel="stylesheet" href="{{ 'gallery.css' | asset_url }}">

<script>
let index = 4; 
const items = document.querySelectorAll('.gallery-item');
const totalItems = items.length;

function showGallery(index) {
  const wrapper = document.querySelector('.gallery-wrapper');
  const itemWidth = items[0].offsetWidth + 20; // Largura do item + margem
  wrapper.style.transform = `translateX(-${index * itemWidth}px)`;
  items.forEach((item, i) => {
    item.classList.remove('central');
    if (i === index) {
      item.classList.add('central');
    }
  });
}

showGallery(index);

document.querySelector('.prev').onclick = function () {
  index = index > 0 ? index - 1 : totalItems - 1;
  showGallery(index);
};

document.querySelector('.next').onclick = function () {
  index = index < totalItems - 1 ? index + 1 : 0;
  showGallery(index);
};
</script>